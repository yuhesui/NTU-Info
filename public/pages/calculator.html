<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>CGPA Calculator | NTU Info</title>
  <link rel="stylesheet" href="../styles/variables.css">
  <link rel="stylesheet" href="../styles/shared.css">
  <link rel="stylesheet" href="../styles/calculator.css">
</head>
<body>
  <a href="#main-content" class="skip-link">Skip to main content</a>
  <header class="header" role="banner">
    <div class="header-container">
      <div class="logo-section">
        <h1 class="logo-title">NTU Info</h1>
        <p class="logo-subtitle">Tools</p>
      </div>
      <nav class="banner-nav" aria-label="Site sections">
        <div class="banner-tabs" role="tablist" aria-label="Primary">
          <button id="tab-academics" class="banner-tab" type="button" role="tab" aria-selected="true" aria-controls="panel-academics" data-banner-tab>Academics</button>
          <button id="tab-tools" class="banner-tab" type="button" role="tab" aria-selected="false" aria-controls="panel-tools" tabindex="-1" data-banner-tab>Tools</button>
          <button id="tab-guides" class="banner-tab" type="button" role="tab" aria-selected="false" aria-controls="panel-guides" tabindex="-1" data-banner-tab>Guides</button>
          <button id="tab-campus" class="banner-tab" type="button" role="tab" aria-selected="false" aria-controls="panel-campus" tabindex="-1" data-banner-tab>Campus Life</button>
          <button id="tab-about" class="banner-tab" type="button" role="tab" aria-selected="false" aria-controls="panel-about" tabindex="-1" data-banner-tab>About</button>
        </div>
        <div class="banner-panels" data-banner-tabs>
          <div id="panel-academics" class="banner-panel" role="tabpanel" tabindex="0" aria-labelledby="tab-academics" data-banner-panel>
            <ul class="banner-panel-list"><li><a href="timetable.html">Exam Timetable</a></li><li><a href="mooc-mapping.html">MOOC Mapping Tools</a></li></ul>
          </div>
          <div id="panel-tools" class="banner-panel" role="tabpanel" tabindex="0" aria-labelledby="tab-tools" hidden data-banner-panel>
            <ul class="banner-panel-list"><li><a href="calculator.html" aria-current="page">CGPA Calculator</a></li><li><a href="math-notes.html">Math Notes &amp; Past Papers</a></li><li><a href="clubs/index.html">Clubs &amp; Societies Explorer</a></li></ul>
          </div>
          <div id="panel-guides" class="banner-panel" role="tabpanel" tabindex="0" aria-labelledby="tab-guides" hidden data-banner-panel>
            <ul class="banner-panel-list"><li><a href="airport/index.html">Airport Arrival Guide</a></li></ul>
          </div>
          <div id="panel-campus" class="banner-panel" role="tabpanel" tabindex="0" aria-labelledby="tab-campus" hidden data-banner-panel>
            <ul class="banner-panel-list"><li><a href="canteens.html">NTU Canteen Food Rating Guide</a></li><li><a href="clubs/index.html">Clubs &amp; Societies Explorer</a></li></ul>
          </div>
          <div id="panel-about" class="banner-panel" role="tabpanel" tabindex="0" aria-labelledby="tab-about" hidden data-banner-panel>
            <ul class="banner-panel-list"><li><a href="about.html">About NTU Info</a></li></ul>
          </div>
        </div>
      </nav>
    </div>
  </header>

  <main id="main-content" class="page-container">
    <h1 class="page-title">Projected CGPA Calculator</h1>
    <p class="intro">Plan your semester with NTU's 5-point grading scale.</p>

    <section class="card" aria-labelledby="previous-heading">
      <h2 id="previous-heading">A) Previous semesters (cumulative)</h2>
      <div class="form-grid two">
        <label class="form-field">Current cumulative CGPA
          <input id="prev-cgpa" type="number" min="0" max="5" step="0.01" placeholder="e.g. 3.82">
        </label>
        <label class="form-field">Total AUs completed
          <input id="prev-aus" type="number" min="0" step="1" placeholder="e.g. 78">
        </label>
      </div>
    </section>

    <section class="card" aria-labelledby="semester-heading">
      <div class="card-row">
        <h2 id="semester-heading">B) Current semester</h2>
        <button id="add-course" class="btn btn-primary" type="button">Add course</button>
      </div>
      <div class="table-wrap">
        <table class="course-table">
          <thead>
            <tr><th>Course code/name</th><th>AUs</th><th>Grade</th><th></th></tr>
          </thead>
          <tbody id="course-rows"></tbody>
        </table>
      </div>
      <p id="form-error" class="form-error" role="alert" aria-live="polite"></p>
      <div class="actions">
        <button id="calculate" class="btn btn-primary" type="button">Calculate</button>
        <button id="reset" class="btn btn-secondary" type="button">Reset</button>
      </div>
    </section>

    <section class="card results" aria-live="polite">
      <h2>Results</h2>
      <div class="results-grid">
        <div><p class="kicker">Semester GPA</p><p id="semester-gpa" class="value">-</p></div>
        <div><p class="kicker">Projected new CGPA</p><p id="projected-cgpa" class="value">-</p></div>
      </div>
      <p class="formula">New CGPA = ((PrevCGPA × PrevAUs) + Σ(gradePoints × AU)) / (PrevAUs + ΣAU)</p>
    </section>
  </main>

  <script type="module" src="../scripts/main.js"></script>
  <script type="module" src="../scripts/calculator.js"></script>
</body>
</html>
